import{d as D,r as f,a as E,w as p,m as F,o as U,b as m,c as x,f as r,q as B,i as a,h as X,t as Y,s as I,v as q,x as s}from"./index.7552c14a.js";import{g as z,u as L}from"./ThemeStore.95049146.js";const R=["width","height"],W=["cx","cy","r","stroke"],j=["d","stroke","stroke-dasharray"],G=["fill","cx","cy"],H=["fill","fill-opacity","cx","cy"],J=D({__name:"EcCircleProgressBar",props:{draggable:{type:Boolean,default:!1},modelValue:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},r:{type:Number,default:50},duration:{type:Number,default:.3},bgColor:{type:String,default:"#EBEDF0"},fillColor:{type:String,default:"#10B981"},handleColor:{type:String,default:"#059669"}},emits:["update:modelValue"],setup(o,{emit:u}){const l=o,k=f(null),t={x:l.width/2,y:l.height/2},c=2*Math.PI*l.r,h=E({value:0}),w=f("");p(h,e=>{w.value=`${e.value*c} ${c}`});const v=f(null),d=E({x:0,y:0});p(h,e=>{const n=v.value,{x:i,y}=n.getPointAtLength(e.value*c);d.x=i,d.y=y});function C(e){e<=0||e-h.value>.25?e=0:(e>1||e-h.value<-.25)&&(e=1),u("update:modelValue",e)}function b(e){e<=0?e=0:e>1&&(e=1),z.to(h,{value:e,duration:l.duration})}const N=F(()=>l.modelValue);p(N,e=>b(e)),U(()=>b(l.modelValue));let g=f(!1);function P(e,n){const i=n.x-e.x,y=n.y-e.y;return Math.atan(y/i)/(2*Math.PI)}function M(){g.value=!0}function T(){g.value=!1}function $(e){if(!g.value)return;e.preventDefault();let n=0,i=0;e instanceof MouseEvent?{x:n,y:i}=e:{clientX:n,clientY:i}=e.targetTouches[0];const y=k.value.getBoundingClientRect(),V=n-y.x,A=i-y.y,S=P({x:t.x,y:t.y},{x:V,y:A});V>t.x?C(.25+S):C(.75+S)}return(e,n)=>(m(),x("svg",{ref_key:"root",ref:k,width:o.width,height:o.height,onMousemove:$,onMouseup:T,onTouchmove:$,onTouchend:T,style:{"user-select":"none"}},[r("circle",{fill:"none",cx:t.x,cy:t.y,r:o.r,stroke:o.bgColor,"stroke-width":"20"},null,8,W),r("path",{ref_key:"progress",ref:v,fill:"none",d:`M ${t.x}, ${t.y-o.r} A ${o.r}, ${o.r}, 0, 0, 1, ${t.x}, ${t.y+o.r} A ${o.r}, ${o.r}, 0, 0, 1, ${t.x}, ${t.y-o.r}`,stroke:o.fillColor,"stroke-width":"13","stroke-linecap":"round","stroke-dasharray":w.value},null,8,j),o.draggable?(m(),x("circle",{key:0,fill:o.handleColor,cx:d.x,cy:d.y,r:"13"},null,8,G)):B("",!0),o.draggable?(m(),x("circle",{key:1,onMousedown:M,onTouchstart:M,fill:o.handleColor,"fill-opacity":a(g)?.3:0,cx:d.x,cy:d.y,r:"20"},null,40,H)):B("",!0)],40,R))}}),K=r("h2",null,"\u4E00\u4E2A\u4E1D\u6ED1\u7684\u73AF\u5F62\u8FDB\u5EA6\u6761",-1),Z=D({__name:"index",setup(o){const u=f(.6),l=L();return(k,t)=>(m(),x("div",null,[K,X(J,{width:200,height:200,r:80,duration:.5,modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=c=>u.value=c),draggable:""},null,8,["duration","modelValue"]),r("p",null,Y(u.value.toFixed(2)),1),I(r("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=c=>u.value=c)},null,512),[[q,u.value]]),r("div",{style:s({backgroundColor:a(l).colors.darkPrimaryColor})},[r("p",{style:s({color:a(l).colors.lightPrimaryText})},"hello, world",4),r("p",{style:s({color:a(l).colors.lightText})},"hello, world",4),r("p",{style:s({color:a(l).colors.lightSecondaryText})}," hello, world ",4)],4),r("div",{style:s({backgroundColor:a(l).colors.lightPrimaryColor})},[r("p",{style:s({color:a(l).colors.darkPrimaryText})},"hello, world",4),r("p",{style:s({color:a(l).colors.darkText})},"hello, world",4),r("p",{style:s({color:a(l).colors.darkSecondaryText})}," hello, world ",4)],4)]))}});export{Z as default};
